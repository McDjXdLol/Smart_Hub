<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hub Remote</title>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html {
            color-scheme: dark;
        }

        body {
            -webkit-tap-highlight-color: transparent;
        }

        .btn-active-feedback {
            @apply transform transition-transform duration-100 active:scale-90 active:bg-blue-600;
        }
    </style>
</head>

<body class="bg-gray-900 text-gray-100 font-sans select-none">

    <div class="min-h-screen w-full max-w-md mx-auto flex flex-col items-center justify-start p-6 space-y-6">

        <!-- SECTION 1: HOME/BACK/POWER -->
        <div class="w-full grid grid-cols-3 gap-4">
            <!-- HOME Buttton -->
            <button onclick="sendRequest('/remote/open_home')"
                class="bg-gray-700 p-4 rounded-xl shadow-lg flex flex-col items-center justify-center btn-active-feedback">
                <i class="fa-solid fa-house"></i>
                <span class="text-xs mt-1">Home</span>
            </button>

            <!-- BACK Button -->
            <button onclick="sendRequest('/remote/back_click')"
                class="bg-gray-700 p-4 rounded-xl shadow-lg flex flex-col items-center justify-center btn-active-feedback">
                <!-- Ikona Back -->
                <i class="fa-solid fa-arrow-left-long"></i>
                <span class="text-xs mt-1">Back</span>
            </button>

            <!-- POWER Button -->
            <button onclick="sendRequest('/remote/power_toggle')"
                class="bg-gray-700 p-4 rounded-xl shadow-lg flex flex-col items-center justify-center btn-active-feedback">
                <i class="fa-solid fa-power-off"></i>
                <span class="text-xs mt-1">Power</span>
            </button>
        </div>


        <!-- SECTION 2: DIRECTIONAL PAD (D-Pad) -->
        <div class="w-64">
            <div class="grid grid-cols-3 gap-4">
                <div></div>

                <!-- TOP -->
                <button onclick="sendRequest('/remote/up_click')"
                    class="bg-gray-800 p-5 rounded-lg shadow-md btn-active-feedback">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3"
                        stroke="currentColor" class="w-8 h-8 mx-auto">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
                    </svg>
                </button>
                <div></div>

                <!-- LEFT -->
                <button onclick="sendRequest('/remote/left_click')"
                    class="bg-gray-800 p-5 rounded-lg shadow-md btn-active-feedback">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3"
                        stroke="currentColor" class="w-8 h-8 mx-auto">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                </button>

                <!-- ENTER/OK -->
                <button onclick="sendRequest('/remote/enter_click')"
                    class="bg-blue-700 p-5 rounded-full shadow-lg font-bold text-lg btn-active-feedback">
                    OK
                </button>

                <!-- RIGHT -->
                <button onclick="sendRequest('/remote/right_click')"
                    class="bg-gray-800 p-5 rounded-lg shadow-md btn-active-feedback">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3"
                        stroke="currentColor" class="w-8 h-8 mx-auto">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                    </svg>
                </button>
                <div></div>

                <!-- BOTTOM -->
                <button onclick="sendRequest('/remote/down_click')"
                    class="bg-gray-800 p-5 rounded-lg shadow-md btn-active-feedback">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3"
                        stroke="currentColor" class="w-8 h-8 mx-auto">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                    </svg>
                </button>
                <div></div>
            </div>
        </div>

        <!-- SECTION 3: VOLUME BUTTONS -->
        <div class="w-full flex items-center justify-center gap-5">
            <!-- Quieter -->
            <button onclick="sendRequest('/remote/vol_down')"
                class="bg-gray-700 p-4 rounded-full shadow-lg btn-active-feedback">
                <i class="fa-solid fa-volume-low"></i>
            </button>

            <!-- Mute -->
            <button onclick="sendRequest('/remote/mute')"
                class="bg-gray-700 p-4 rounded-full shadow-lg btn-active-feedback">
                <i class="fa-solid fa-volume-xmark"></i>
            </button>

            <!-- Louder -->
            <button onclick="sendRequest('/remote/vol_up')"
                class="bg-gray-700 p-4 rounded-full shadow-lg btn-active-feedback">
                <i class="fa-solid fa-volume-high"></i>
            </button>
        </div>

        <!-- SECTION 4: APP SHORCUTS -->
        <div class="w-full grid grid-cols-2 gap-4">
            <button onclick="sendRequest('/app/steamlink')"
                class="bg-blue-900 text-white font-bold py-3 px-4 rounded-lg shadow-lg btn-active-feedback">
                <i class="fa-brands fa-steam"></i>
            </button>
            <button onclick="sendRequest('/app/stremio')"
                class="bg-purple-600 text-white font-bold py-3 px-4 rounded-lg shadow-lg btn-active-feedback">
                <i class="fa-solid fa-clapperboard"></i>
            </button>
        </div>

        <!-- SECTION 5: STOP APPS -->
        <div class="w-full grid grid-cols-2 gap-4 pt-4 border-t border-gray-700">
            <button onclick="sendRequest('/app/steamlink/close')"
                class="bg-gray-600 text-white py-3 px-4 rounded-lg shadow-lg btn-active-feedback">
                Stop Steam
            </button>
            <button onclick="sendRequest('/app/stremio/close')"
                class="bg-gray-600 text-white py-3 px-4 rounded-lg shadow-lg btn-active-feedback">
                Stop Stremio
            </button>
        </div>

    </div>


    <!-- Flash effect -->
    <div id="feedback-flash" class="hidden fixed inset-0 bg-red-800/30 z-50 pointer-events-none"></div>


    <script>
        function sendRequest(url) {
            // 1. Vibration feedback (haptic)
            if (window.navigator.vibrate) {
                window.navigator.vibrate(30);
            }

            // 2. Flash effect 
            const feedbackEl = document.getElementById('feedback-flash');
            if (feedbackEl) {
                feedbackEl.classList.remove('hidden');
                setTimeout(() => feedbackEl.classList.add('hidden'), 20);
            }

            // 3. Send the fetch request
            fetch(url, { method: 'GET', cache: 'no-store' })
                .then(response => {
                    if (!response.ok) {
                        console.error('Błąd pilota: Problem z wysłaniem komendy do ' + url);
                    }
                })
                .catch(error => {
                    console.error('Błąd sieci pilota:', error);
                });
        }
    </script>

</body>

</html>